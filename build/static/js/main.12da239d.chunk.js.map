{"version":3,"sources":["api/index.js","utils/setHeader.js","actions/auth.js","components/Auth/Login.jsx","components/Manager/index.jsx","components/Navbar/index.jsx","actions/stations.js","components/Station/DeleteConfirmation.jsx","components/Station/StationItem.jsx","actions/layout.js","utils/checkTokenValid.js","components/Station/index.jsx","HOC/Authentication.jsx","components/Station/CreateStation.jsx","components/Station/UpdateStation.jsx","components/Trip/index.jsx","components/Notfound/index.jsx","App.js","serviceWorker.js","reducers/stations.js","reducers/layout.js","reducers/auth.js","reducers/index.js","index.js"],"names":["api","axios","create","baseURL","callApi","endpoint","getItems","get","then","res","Promise","resolve","data","catch","err","reject","createItem","post","updateItem","put","deleteItem","delete","setHeader","token","defaults","headers","common","setCurrentUser","decoded","type","payload","Login","props","onChange","e","setState","target","name","value","onSubmit","preventDefault","state","credentials","email","password","login","history","push","alert","textFieldStyle","marginTop","marginBottom","style","margin","paddingTop","this","label","raised","Component","connect","dispatch","jwtDecode","userType","message","localStorage","setItem","Manager","to","Navbar","linkStyle","color","textDecoration","linkStyle2","marginRight","align","navIcon","tabIndex","hasRipple","icon","onClick","console","log","role","logout","removeItem","deleteStation","id","DeleteConfirmation","open","isDelete","onClose","cancelDelete","stationId","StationItem","index","station","className","address","province","_id","setSelectedStation","outlined","marginLeft","withRouter","checkTokenValid","getItem","exp","Date","now","Station","renderStations","stations","map","key","getStations","MDCDataTable","document","querySelector","aria-label","scope","ComposedComponent","Authentication","auth","nextProps","prevState","isAuthenticated","React","CreateStation","createStation","UpdateStation","updateStation","selectedStation","layout","Trip","NotFound","App","path","exact","render","component","Boolean","window","location","hostname","match","initialState","stationsReducer","action","findIndex","filter","selectedTrip","isUpdate","layoutReducer","authReducer","_","isEmpty","rootReducer","combineReducers","middlewares","thunk","store","createStore","reducer","compose","applyMiddleware","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.12da239d.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const api = axios.create({\n  baseURL: \"http://localhost:5000/api\"\n})\n\n// api.defaults.headers.common['token'] = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTdkN2Y3YmYwZTU5MTU4YzhkYzY3MTIiLCJlbWFpbCI6InBob25naGlhdmFuQGdtYWlsLmNvbSIsImZ1bGxOYW1lIjoiUGjDsyBOZ2jEqWEgVsSDbiIsInVzZXJUeXBlIjoiYWRtaW4iLCJpYXQiOjE1ODY3ODc1MDIsImV4cCI6MTU4Njc5MTEwMn0.wagv5cysJ_Q12EDG7y_NnDK7GO5xRc4-5DmToV9_ycI\"\n\nconst callApi = (endpoint) => {\n  return {\n    // GET \n    // baseURL (http://localhost:5000/api) + endpoint (/stations)\n    getItems() {\n      return api.get(endpoint)\n        .then(res => Promise.resolve(res.data))\n        .catch(err => Promise.reject(err))\n    },\n\n    // POST\n    createItem(data) {\n      return api.post(endpoint, data)\n        .then(res => Promise.resolve(res.data))\n        .catch(err => Promise.reject(err))\n    },\n\n    // PUT + PATCH\n    updateItem(data) {\n      return api.put(endpoint, data)\n        .then(res => Promise.resolve(res.data))\n        .catch(err => Promise.reject(err))\n    },\n\n    deleteItem() {\n      return api.delete(endpoint)\n        .then(res => Promise.resolve(res.data))\n        .catch(err => Promise.reject(err))\n    }\n  }\n}\n\nexport default callApi;","import { api } from \"../api\"\n\nconst setHeader = (token) => {\n  if (token) {\n    api.defaults.headers.common['token'] = token\n  } else {\n    delete api.defaults.headers.common['token'];\n  }\n}\n\nexport default setHeader;","import { api } from \"../api\";\nimport jwtDecode from \"jwt-decode\";\nimport setHeader from \"../utils/setHeader\";\n\n// credentials {email, password}\n// goi api\nexport const login = (credentials) => (dispatch) => {\n  return api.post(\"/users/login\", credentials)\n    .then(res => {\n      const { token } = res.data\n\n      // decode\n      const decoded = jwtDecode(token)\n\n      // kiem tra userType\n      if (decoded.userType === \"client\") return Promise.reject({\n        message: \"Bạn không có quyền truy cập\"\n      })\n\n      // luu vao localStorage\n      localStorage.setItem(\"token\", token);\n\n      // set Header\n      setHeader(token);\n\n      // set auth reducer\n      // dispatch({\n      //   type: \"SET_CURRENT_USER\",\n      //   payload: decoded\n      // })\n      dispatch(setCurrentUser(decoded))\n\n      return;\n    })\n    .catch(err => Promise.reject(err))\n}\n\nexport const setCurrentUser = (decoded) => {\n  return ({\n    type: \"SET_CURRENT_USER\",\n    payload: decoded\n  })\n}\n\nexport const logout = () => (dispatch) => {\n  localStorage.removeItem(\"token\");\n  setHeader();\n  dispatch(setCurrentUser({}))\n}","import React, { Component } from 'react';\n\nimport TextField, { Input } from '@material/react-text-field';\nimport Button from '@material/react-button';\n\nimport { connect } from \"react-redux\";\nimport { login } from \"../../actions/auth\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\"\n    }\n  }\n\n  onChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n\n    const { email, password } = this.state;\n    const credentials = { email, password }\n    this.props.login(credentials)\n      .then(() => {\n        this.props.history.push(\"/stations\")\n      })\n      .catch(err => alert(\"Đăng nhập thất bại\"))\n  }\n\n  render() {\n    const textFieldStyle = {\n      marginTop: \"20px\",\n      marginBottom: \"20px\"\n    }\n\n    return (\n      <div>\n        <h2 style={{ margin: 0, paddingTop: \"100px\" }}> ĐĂNG NHẬP</h2>\n\n        <form onSubmit={this.onSubmit} >\n          <div style={textFieldStyle}>\n            <TextField\n              label='Email'\n            ><Input\n                value={this.state.email}\n                name=\"email\"\n                onChange={this.onChange}\n              />\n            </TextField>\n          </div>\n\n          <div style={textFieldStyle}>\n            <TextField\n              label='Password'\n            ><Input\n                value={this.state.password}\n                name=\"password\"\n                onChange={this.onChange}\n                type=\"password\"\n              />\n            </TextField>\n          </div>\n\n          <Button\n            raised\n            type=\"submit\"\n          >Đăng nhập</Button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, { login })(Login);","import React, { Component } from 'react';\nimport List, { ListItem, ListItemText } from '@material/react-list';\nimport { Link } from \"react-router-dom\";\n\nclass Manager extends Component {\n  render() {\n    return (\n      <div>\n        <h2 style={{ margin: 0, paddingTop: \"100px\" }}>QUẢN LÝ CHUNG</h2>\n\n        <List>\n          <ListItem>\n            <Link to=\"/stations\">Quản lý bến xe</Link>\n          </ListItem>\n          <ListItem>\n            <Link to=\"/trips\">Quản lý chuyến đi</Link>\n          </ListItem>\n          <ListItem>\n            <Link to=\"/tickets\">Quản lý vé</Link>\n          </ListItem>\n          <ListItem>\n            <Link to=\"/users\">Quản lý người dùng</Link>\n          </ListItem>\n        </List>\n      </div>\n    );\n  }\n}\n\nexport default Manager;","import React, { Component } from 'react';\n\nimport TopAppBar, {\n  TopAppBarFixedAdjust,\n  TopAppBarIcon,\n  TopAppBarRow,\n  TopAppBarSection,\n  TopAppBarTitle,\n} from '@material/react-top-app-bar';\nimport MaterialIcon from '@material/react-material-icon';\n\nimport { Link } from \"react-router-dom\";\n\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../actions/auth\";\n\nclass Navbar extends Component {\n\n\n  render() {\n    const linkStyle = { color: \"white\", textDecoration: \"none\" }\n    const linkStyle2 = { ...linkStyle, marginRight: \"15px\" }\n\n    return (\n      <div>\n        <TopAppBar>\n          <TopAppBarRow>\n            <TopAppBarSection align='start'>\n              <TopAppBarIcon navIcon tabIndex={0}>\n                <MaterialIcon hasRipple icon='menu' onClick={() => console.log('click')} />\n              </TopAppBarIcon>\n              <TopAppBarTitle>\n                <Link to=\"/\" style={linkStyle} >Vexere</Link>\n              </TopAppBarTitle>\n            </TopAppBarSection>\n            <TopAppBarSection align='end' role='toolbar'>\n              <Link to=\"/stations\" style={linkStyle2} >Bến xe</Link>\n              <Link to=\"/trips\" style={linkStyle2} >Chuyến đi</Link>\n              <Link to=\"/tickets\" style={linkStyle2} >Vé</Link>\n              <Link to=\"/clients\" style={linkStyle2} >Khách hàng</Link>\n              <Link to=\"/profile\" style={linkStyle2} >Hồ sơ</Link>\n\n              <Link to=\"/\" onClick={() => this.props.logout()} >Đăng xuất</Link>\n            </TopAppBarSection>\n          </TopAppBarRow>\n        </TopAppBar>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, { logout })(Navbar);","import callApi from \"../api\";\n\nexport const getStations = () => (dispatch) => {\n  return callApi(\"/stations\")\n    .getItems()\n    .then(stations => {\n      dispatch({\n        type: \"GET_STATIONS\",\n        payload: stations\n      })\n    })\n}\n\nexport const createStation = (station) => (dispatch) => {\n  return callApi(\"/stations\")\n    .createItem(station)\n    .then(station => {\n      dispatch({\n        type: \"CREATE_STATION\",\n        payload: station\n      })\n\n      return Promise.resolve(station)\n    })\n    .catch(err => Promise.reject(err))\n}\n\nexport const deleteStation = (id) => (dispatch) => {\n  return callApi(`/stations/${id}`)\n    .deleteItem()\n    .then(() => {\n      dispatch({\n        type: \"DELETE_STATION\",\n        payload: id\n      })\n    })\n    .catch(err => Promise.reject(err))\n}\n\nexport const updateStation = (station) => (dispatch) => {\n  return callApi(`/stations/${station._id}`)\n    .updateItem(station)\n    .then(() => {\n      dispatch({\n        type: \"UPDATE_STATION\",\n        payload: station\n      })\n    })\n    .catch(err => Promise.reject(err))\n}","import React, { Component } from 'react';\nimport Dialog, {\n  DialogTitle,\n  DialogContent,\n  DialogFooter,\n  DialogButton,\n} from '@material/react-dialog';\n\nimport { deleteStation } from \"../../actions/stations\";\nimport { connect } from \"react-redux\";\n\nclass DeleteConfirmation extends Component {\n  render() {\n    return (\n      <div>\n        <Dialog\n          open={this.props.isDelete}\n          onClose={this.props.cancelDelete}\n        >\n          <DialogTitle>Xóa station</DialogTitle>\n          <DialogContent>\n            Bạn có chắc chắn muốn xóa?\n          </DialogContent>\n          <DialogFooter>\n            <DialogButton\n              onClick={() => this.props.cancelDelete()}\n            >Không</DialogButton>\n            <DialogButton\n              onClick={() => this.props.deleteStation(this.props.stationId)}\n            >Có</DialogButton>\n          </DialogFooter>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, { deleteStation })(DeleteConfirmation);","import React, { Component } from 'react';\n\nimport Button from '@material/react-button';\nimport DeleteConfirmation from \"./DeleteConfirmation\"\n\nimport { withRouter } from \"react-router-dom\";\nimport { deleteStation } from \"../../actions/stations\";\nimport { setSelectedStation } from \"../../actions/layout\";\nimport { connect } from \"react-redux\";\n\nclass StationItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isDelete: false\n    }\n  }\n\n  cancelDelete = () => {\n    this.setState({\n      isDelete: false\n    })\n  }\n\n  render() {\n    const { index, station } = this.props;\n\n    return (\n      <tr className=\"mdc-data-table__row\">\n        <td className=\"mdc-data-table__cell\">{index + 1}</td>\n        <td className=\"mdc-data-table__cell mdc-data-table__cell--numeric\">{station.name}</td>\n        <td className=\"mdc-data-table__cell mdc-data-table__cell--numeric\">{station.address}</td>\n        <td className=\"mdc-data-table__cell\">{station.province}</td>\n        <td className=\"mdc-data-table__cell\">\n          <Button\n            raised\n            onClick={() => {\n              this.props.history.push(`/stations/update-station/${station._id}`)\n              this.props.setSelectedStation(station)\n            }}\n          >Sửa</Button>\n          <Button\n            // onClick={() => this.props.deleteStation(station._id)}\n            onClick={() => this.setState({ isDelete: true })}\n            outlined\n            style={{ marginLeft: \"10px\" }}\n          >Xóa</Button>\n        </td>\n        <DeleteConfirmation\n          isDelete={this.state.isDelete}\n          cancelDelete={this.cancelDelete}\n          stationId={station._id}\n        />\n      </tr>\n    );\n  }\n}\n\n// HOC ten la \"withRouter\"\n\nexport default withRouter(connect(null, { deleteStation, setSelectedStation })(StationItem));","export const setSelectedStation = (station) => (dispatch) => {\n  dispatch({\n    type: \"SET_SELECTED_STATION\",\n    payload: station\n  })\n}","import jwtDecode from \"jwt-decode\"\r\n\r\nconst checkTokenValid = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) return null;\r\n\r\n    const decoded = jwtDecode(token);\r\n    if (decoded.exp > Date.now() / 1000){\r\n        return decoded; \r\n    }\r\n\r\n    else return null\r\n}\r\n\r\nexport default checkTokenValid;","import React, { Component } from 'react';\nimport callApi from \"../../api\";\n\nimport { MDCDataTable } from '@material/data-table';\nimport Button from '@material/react-button';\n\nimport StationItem from \"./StationItem\";\nimport Authentication from \"../../HOC/Authentication\"\n\nimport { getStations } from \"../../actions/stations\";\nimport { connect } from \"react-redux\";\n\nclass Station extends Component {\n  // constructor(props) {\n  //   super(props);\n  //   this.state = {\n  //     stations: []\n  //   }\n  // }\n\n  // stateless\n  // React.useEffect\n  // React.useState\n  componentDidMount() {\n    // callApi(\"/stations\").getItems()\n    //   .then(stations => {\n    //     this.setState({ stations })\n    //   })\n\n    this.props.getStations()\n\n    const dataTable = new MDCDataTable(document.querySelector('.mdc-data-table'));\n  }\n\n  renderStations = () => {\n    return this.props.stations.map((station, index) => {\n      return <StationItem\n        key={index}\n        station={station}\n        index={index}\n      />\n    })\n  }\n\n  // history, match, location\n  render() {\n    return (\n      <div>\n        <h2 style={{ margin: 0, paddingTop: \"100px\" }} >QUẢN LÝ BẾN XE</h2>\n        <div>\n        <Button\n          raised\n          onClick={() => this.props.history.push(\"/stations/create-station\")}\n        >Thêm mới bến xe</Button>\n        </div>\n        <div className=\"mdc-data-table\">\n          <table className=\"mdc-data-table__table\" aria-label=\"Dessert calories\">\n            <thead>\n              <tr className=\"mdc-data-table__header-row\">\n                <th className=\"mdc-data-table__header-cell\" role=\"columnheader\" scope=\"col\">STT</th>\n                <th className=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\" role=\"columnheader\" scope=\"col\">Tên bến xe</th>\n                <th className=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\" role=\"columnheader\" scope=\"col\">Địa chỉ</th>\n                <th className=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\" role=\"columnheader\" scope=\"col\">Tỉnh (thành phố)</th>\n                <th className=\"mdc-data-table__header-cell\" role=\"columnheader\" scope=\"col\">Thao tác</th>\n              </tr>\n            </thead>\n            <tbody className=\"mdc-data-table__content\">\n              {this.renderStations()}\n            </tbody>\n          </table>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    stations: state.stations\n  }\n}\n\n// mapDispatchToProps\n// const mapDispatchToProps = (dispatch) => {\n//   return {\n//     getStations: () => {\n//       dispatch(getStations())\n//     }\n//   }\n// }\n\n// Station component would acquire all props from Authentication Component\n\nexport default connect(mapStateToProps, { getStations })(Authentication(Station));","import  React from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport checkTokenValid from \"../utils/checkTokenValid\"\r\nimport {setCurrentUser} from \"../actions/auth\"\r\n\r\n// HOC function or HOC class\r\n\r\n// ComposedComponent would be: Station/CreateStation/UpdateStation/CreateTrip/... \r\n// which needed to be authenticated\r\nexport default function(ComposedComponent){\r\n    // define a new Component \r\n    class Authentication extends React.Component{\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                auth : {}\r\n            }\r\n            \r\n        }\r\n\r\n        // lifecycle nay de lay cac prop tu state de xu ly logic\r\n        static getDerivedStateFromProps(nextProps,prevState) {\r\n            \r\n            // check xem token co ton tai khong hay da bi xoa hoac het han\r\n            const decoded = checkTokenValid();\r\n            if(!decoded) {\r\n                // setCurrentUser de dua ve trang chu\r\n                nextProps.setCurrentUser({})\r\n                nextProps.history.push(\"/\");\r\n            } \r\n            \r\n            // neu nhu token ke tiep duoc lay trong header giong voi token da dang nhap truoc, thi tra ve tiep token do\r\n            // neu token ke tiep la invalid hoac empty\r\n            if(nextProps.auth.isAuthenticated !== prevState.auth.isAuthenticated){\r\n                // neu nhu khong co token\r\n                if(!nextProps.auth.isAuthenticated){\r\n                    // quay ve trang chu\r\n                    // already applying HOC root, so the props \"history\" from the root component can be used\r\n                    nextProps.history.push(\"/\")\r\n                }\r\n                return {\r\n                    auth: nextProps.auth\r\n                }\r\n            }\r\n            return {}\r\n        }\r\n\r\n\r\n        // return all props and ComposedComponents\r\n        render() {\r\n            return (\r\n                <ComposedComponent {...this.props} />\r\n            );\r\n        }\r\n        \r\n    }\r\n    \r\n    \r\n    const mapStateToProps = (state) => {\r\n        return {\r\n            auth: state.auth\r\n        }\r\n    }\r\n\r\n    \r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      setCurrentUser: (decoded) => {\r\n        dispatch(setCurrentUser(decoded))\r\n      }\r\n    }\r\n  }\r\n  \r\n    \r\n    \r\n    return connect(mapStateToProps, mapDispatchToProps)(Authentication);\r\n}","import React, { Component } from 'react';\n\nimport TextField, { Input } from '@material/react-text-field';\nimport Button from '@material/react-button';\n\nimport { createStation } from \"../../actions/stations\"\nimport { connect } from \"react-redux\";\n\nclass CreateStation extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      address: \"\",\n      province: \"\"\n    }\n  }\n\n  onChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n\n    const { name, address, province } = this.state;\n    const station = { name, address, province };\n\n    this.props.createStation(station)\n      .then(() => {\n        this.props.history.push(\"/stations\")\n      })\n  }\n\n  render() {\n    const textFieldStyle = {\n      marginTop: \"20px\",\n      marginBottom: \"20px\"\n    }\n    return (\n      <div>\n        <h2 style={{ margin: 0, paddingTop: \"100px\" }} >THÊM MỚI BẾN XE</h2>\n\n        <form onSubmit={this.onSubmit} >\n          <div style={textFieldStyle}>\n            <TextField\n              label='Tên bến xe'\n            ><Input\n                value={this.state.name}\n                name=\"name\"\n                onChange={this.onChange}\n              />\n            </TextField>\n          </div>\n\n          <div style={textFieldStyle}>\n            <TextField\n              label='Địa chỉ'\n            ><Input\n                value={this.state.address}\n                name=\"address\"\n                onChange={this.onChange}\n              />\n            </TextField>\n          </div>\n\n          <div style={textFieldStyle}>\n            <TextField\n              label='Tỉnh, thành phố'\n            ><Input\n                value={this.state.province}\n                name=\"province\"\n                onChange={this.onChange}\n              />\n            </TextField>\n          </div>\n\n          <Button\n            raised\n            type=\"submit\"\n          >Thêm</Button>\n        </form>\n      </div >\n    );\n  }\n}\n\nexport default connect(null, { createStation })(CreateStation);","import React, { Component } from 'react';\n\nimport TextField, { Input } from '@material/react-text-field';\nimport Button from '@material/react-button';\n\nimport { updateStation } from \"../../actions/stations\"\nimport { connect } from \"react-redux\";\n\nclass UpdateStation extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      _id: \"\",\n      name: \"\",\n      address: \"\",\n      province: \"\"\n    }\n  }\n\n  onChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n\n    const { _id, name, address, province } = this.state;\n    const station = { _id, name, address, province };\n\n    console.log(\"UpdateStation -> onSubmit -> station\", station)\n    this.props.updateStation(station)\n      .then(() => {\n        this.props.history.push(\"/stations\")\n      })\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (!state.name && !state.address && !state.province) {\n      return {\n        _id: props.selectedStation && props.selectedStation._id,\n        name: props.selectedStation && props.selectedStation.name,\n        address: props.selectedStation && props.selectedStation.address,\n        province: props.selectedStation && props.selectedStation.province\n      }\n    }\n  }\n\n  render() {\n    const textFieldStyle = {\n      marginTop: \"20px\",\n      marginBottom: \"20px\"\n    }\n    return (\n      <div>\n        <h2 style={{ margin: 0, paddingTop: \"100px\" }} >CẬP NHẬT BẾN XE</h2>\n\n        <form onSubmit={this.onSubmit} >\n          <div style={textFieldStyle}>\n            <TextField\n              label='Tên bến xe'\n            ><Input\n                value={this.state.name}\n                name=\"name\"\n                onChange={this.onChange}\n              />\n            </TextField>\n          </div>\n\n          <div style={textFieldStyle}>\n            <TextField\n              label='Địa chỉ'\n            ><Input\n                value={this.state.address}\n                name=\"address\"\n                onChange={this.onChange}\n              />\n            </TextField>\n          </div>\n\n          <div style={textFieldStyle}>\n            <TextField\n              label='Tỉnh, thành phố'\n            ><Input\n                value={this.state.province}\n                name=\"province\"\n                onChange={this.onChange}\n              />\n            </TextField>\n          </div>\n\n          <Button\n            raised\n            type=\"submit\"\n          >Sửa</Button>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    selectedStation: state.layout.selectedStation\n  }\n}\n\nexport default connect(mapStateToProps, { updateStation })(UpdateStation);","import React, { Component } from 'react';\n\nclass Trip extends Component {\n  render() {\n    return (\n      <div>\n        <h2 style={{ margin: 0, paddingTop: \"100px\" }}> QUẢN LÝ CHUYẾN ĐI</h2>\n      </div>\n    );\n  }\n}\n\nexport default Trip;","import React from 'react';\n\nconst NotFound = () => {\n  return (\n    <div>\n      <h2>PAGE NOT FOUND</h2>\n    </div>\n  );\n};\n\nexport default NotFound;","import React from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\n\n// material CSS\nimport '@material/react-top-app-bar/dist/top-app-bar.css';\nimport '@material/react-material-icon/dist/material-icon.css';\nimport '@material/react-material-icon/dist/material-icon.css';\nimport '@material/data-table/dist/mdc.data-table.css'\nimport '@material/react-button/dist/button.css';\nimport '@material/react-text-field/dist/text-field.css';\nimport \"@material/react-dialog/dist/dialog.css\";\nimport '@material/react-list/dist/list.css';\n\n// components\nimport Login from \"./components/Auth/Login\";\nimport Manager from \"./components/Manager\";\nimport Navbar from \"./components/Navbar\";\nimport Station from \"./components/Station\";\nimport CreateStation from \"./components/Station/CreateStation\"\nimport UpdateStation from \"./components/Station/UpdateStation\"\nimport Trip from \"./components/Trip\";\nimport NotFound from \"./components/Notfound\";\n\nimport { connect } from \"react-redux\";\nimport { setCurrentUser } from \"./actions/auth\";\n\nimport checkTokenValid from \"./utils/checkTokenValid\"\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    \n    let decoded = checkTokenValid();\n    if(decoded) this.props.setCurrentUser(decoded) \n  }\n\n  render() {\n    const { auth } = this.props;\n    const { isAuthenticated } = auth;\n    return (\n      <div className=\"App\">\n        <BrowserRouter>\n          {isAuthenticated && <Navbar />}\n\n          <Switch>\n            <Route\n              path=\"/\" exact\n              // component={Login} \n              render={(props) => {\n                if (isAuthenticated) return <Redirect to=\"/manager\" />\n\n                // props: {location, match, history}\n                return <Login {...props} />\n              }}\n            />\n\n            <Route path=\"/manager\" exact component={Manager} />\n            <Route path=\"/stations\" exact component={Station} />\n            <Route path=\"/stations/create-station\" exact component={CreateStation} />\n            <Route path=\"/stations/update-station/:stationId\" exact component={UpdateStation} />\n            <Route path=\"/trips\" exact component={Trip} />\n\n            <Route path=\"/\" component={NotFound} />\n          </Switch>\n\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setCurrentUser: (decoded) => {\n      dispatch(setCurrentUser(decoded))\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = [];\n\n// action = {type, payload}\nconst stationsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"GET_STATIONS\":\n      return action.payload;\n\n    case \"CREATE_STATION\":\n      // immutable\n      // KHONG THE DUNG state.push(action.payload)\n      return [...state, action.payload]\n\n    case \"UPDATE_STATION\":\n      // action: {type: \"UPDATE_STATION\", payload: {_id, name, province, address}}\n      const index = state.findIndex(station => station._id === action.payload._id)\n      state[index] = action.payload;\n      return [...state];\n\n    case \"DELETE_STATION\":\n      // action: {type: \"DELETE_STATION\", payload: _id}\n      return state.filter(station => station._id !== action.payload)\n\n    default:\n      return state;\n  }\n}\n\nexport default stationsReducer;","const initialState = {\n  selectedStation: {},\n  selectedTrip: {},\n  isDelete: false,\n  isUpdate: false\n}\n\nconst layoutReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"SET_SELECTED_STATION\":\n      return {\n        ...state,\n        selectedStation: action.payload\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default layoutReducer;","import _ from \"lodash\";\n\nconst initialState = {\n  isAuthenticated: false,\n  // chua du lieu cua user\n  decoded: {} // ung voi payload cua token\n}\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"SET_CURRENT_USER\":\n      return {\n        isAuthenticated: !_.isEmpty(action.payload),\n        decoded: action.payload\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default authReducer;\n","import { combineReducers } from \"redux\";\n\nimport stations from \"./stations\";\nimport layout from \"./layout\";\nimport auth from \"./auth\";\n\nconst rootReducer = combineReducers({\n  stations, layout, auth\n})\n\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from 'redux-thunk';\n\nimport reducer from \"./reducers\"\n\nconst initialState = {}\nconst middlewares = [thunk];\n\nconst store = createStore(\n  reducer,\n  initialState,\n  compose(\n    applyMiddleware(...middlewares),\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store} >\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}